- summary: Fix local restore of block-level incremental backups
  description: |
    When performing a local restore of block-level incremental backups, Barman was
    facing errors like the following:
    ```
    ERROR: Destination directory '/home/vagrant/restore/internal_no_get_wal' must be empty
    ```
    That error was caused by a regression when the option `--staging-wals-directory`
    was introduced in version 3.13.0. Along with it came a new check to ensure the WAL
    destination directory was empty before proceeding. However, when restoring
    block-level incremental backups locally, Barman was setting up the WAL destination
    directory before performing this check, triggering the error above.
  type: bugfix
  jira_tickets:
    - BAR-655
