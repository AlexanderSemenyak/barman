- summary: Ensure minimum redundancy check considers only 'non-incremental backups'
  description: |
    An issue was reported where the `minimum_redundancy` rule could be violated due to
    the inclusion of incremental backups in the redundancy count. As an example: in a
    scenario where the catalog contained one full backup and two dependent incremental
    backups, and the user had `minimum_redundancy = 2`, the rule was incorrectly
    considered satisfied. As a result, deleting the full backup triggered cascading
    deletion of its incremental dependents, leaving zero backups in the catalog.

    This issue has been fixed by updating the `minimum_redundancy` logic to consider
    only non-incremental backups (i.e. only full, rsync, snapshot). This ensures that
    full backups cannot be deleted if doing so would violate the configured minimum
    redundancy level.
  type: bugfix
  jira_tickets:
    - BAR-707
